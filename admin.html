<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin.css" />
    <style>
    .admin-section {
      display: none;
    }
    iframe {
      width: 100%;
      height: 600px; /* Fixed height for consistency */
      border: 1px solid #ddd; /* Add a border for separation */
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1); /* Add shadow for depth */
    }
    /* Style for table inside iframe */
    iframe table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px; /* Add some margin for separation */
    }
    /* Style for table headers */
    iframe th {
      background-color: #3498db; /* Blue background */
      color: #fff; /* White text */
      padding: 10px;
      text-align: left;
      border: 1px solid #ddd; /* Border for headers */
    }
    /* Style for table cells */
    iframe td {
      padding: 10px;
      border: 1px solid #ddd; /* Border for cells */
    }
  </style>
    </style>
  </head>
  <body>
    <div class="main-header">
      <img
        src="https://mswasthticket1.tiiny.site/download-removebg-preview.png"
        alt="MSWasth Furniture Store Logo"
        class="logo1"
      />
      <span class="header-text">
        M-SWASTH Solutions Pvt Ltd - Admin Dashboard
      </span>
      <button class="logout-button" onclick="logout()">Logout</button>
    </div>

    <div class="admin-container">
      <div class="sidebar">
        <ul>
          <li><a href="#home" onclick="showSection('home')">Home</a></li>
          <li>
            <a
              href="#manage-employees"
              onclick="showSection('manage-employees')"
            >
              Manage Employee IDs
            </a>
          </li>
          <li>
            <a href="#manage-partners" onclick="showSection('manage-partners')">
              Manage Partner Names
            </a>
          </li>
        </ul>
      </div>

      <div class="content">
        <section id="home" class="admin-section">
          <h2>Home</h2>

          <iframe
            src="https://docs.google.com/spreadsheets/d/e/2PACX-1vS11KgFjRy72vjiHnquz1Jg6PN1eTBpWpq6G7ea5sftPf2DOpHa7suljZR6stWU_-2meIhAXn75Mwhs/pubhtml?gid=725247080&amp;single=true&amp;widget=true&amp;headers=false"
            width="100%"
            height="600px"
          ></iframe>
        </section>

        <section id="manage-employees" class="admin-section">
          <h2 class="section-header">Manage Employee IDs</h2>
          <div class="form-container">
            <h4>Add Employee ID</h4>
            <form id="employeeForm">
              <input
                type="text"
                id="employeeIdInput"
                placeholder="Enter Employee ID"
                required
              />
              <button type="button" onclick="addEmployee()">
                Add Employee ID
              </button>
            </form>
          </div>

          <div class="search-container">
            <h4>Search Employee IDs</h4>
            <form>
              <input
                type="text"
                id="searchEmployeeInput"
                placeholder="Search Employee IDs"
                onkeyup="searchEmployeeTable()"
              />
            </form>
          </div>

          <div id="employeeList">
            <table id="employeeTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <section id="manage-partners" class="admin-section">
          <h2 class="section-header">Manage Partner Names</h2>
          <div class="form-container">
            <h4>Add Partner Name</h4>
            <form id="partnerForm">
              <input
                type="text"
                id="partnerNameInput"
                placeholder="Enter Partner Name"
                required
              />
              <button type="button" onclick="addPartner()">
                Add Partner Name
              </button>
            </form>
          </div>

          <div class="search-container">
            <h4>Search Partner Names</h4>
            <form>
              <input
                type="text"
                id="searchPartnerInput"
                placeholder="Search Partner Names"
                onkeyup="searchPartnerTable()"
              />
            </form>
          </div>

          <div id="partnerList">
            <table id="partnerTable">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>
      </div>
    </div>

    <script type="module" src="data.js"></script>
    <script type="module" src="admin.js"></script>
    <script>
      function showSection(section) {
        // Hide all sections
        document.querySelectorAll(".admin-section").forEach(function (el) {
          el.style.display = "none";
        });
        // Show the selected section
        document.getElementById(section).style.display = "block";
      }

      function refreshIframe() {
        const iframe = document.getElementById("googleSheet");
        iframe.src = iframe.src; // Reload the iframe
      }

      document.addEventListener("DOMContentLoaded", function () {
        showSection("home");
        setInterval(refreshIframe, 10000); // Refresh every 60 seconds
      });
    </script>
  </body>
</html>
